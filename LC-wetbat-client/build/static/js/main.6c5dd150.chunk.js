(this["webpackJsonpreact-template"]=this["webpackJsonpreact-template"]||[]).push([[0],{24:function(e,t,a){},35:function(e,t,a){},38:function(e,t,a){e.exports=a(70)},43:function(e,t,a){},52:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(36),r=a.n(c),s=a(12),o=(a(43),a(11)),l=(a(24),a(5)),m=a(6);function u(){return i.a.createElement("nav",{className:"nav-main-container"},i.a.createElement("div",{className:"top-nav-container"},i.a.createElement("div",{className:"top-nav-left"},i.a.createElement(l.a,{icon:m.i,className:"top-nav-icon",id:"left-nav-icon"}),i.a.createElement("h2",null,i.a.createElement(o.b,{to:"/",id:"home-link"},"Wet Bat Travel"))),i.a.createElement("div",{className:"top-nav-right"},i.a.createElement("input",{type:"text",placeholder:"Search",id:"nav-search"}),i.a.createElement(l.a,{icon:m.a,className:"top-nav-icon"}),i.a.createElement(l.a,{icon:m.c,className:"top-nav-icon"}),i.a.createElement(l.a,{icon:m.b,className:"top-nav-icon"}),i.a.createElement("img",{src:"https://golf.com/wp-content/uploads/2018/07/tiger_woods_headshot-300x300.png",alt:"",className:"user-image"}))))}function d(e){var t=e.selected,a=e.setSelected;return i.a.createElement("div",{className:"side-nav-container"},i.a.createElement("ul",{className:"nav-links"},i.a.createElement(o.b,{to:"/",className:"Home"===t?"side-nav-list-item side-nav-selected":"side-nav-list-item",onClick:function(){return a("Home")}},i.a.createElement(l.a,{icon:m.h,className:"side-nav-icon"}),i.a.createElement("li",null,"Home")),i.a.createElement(o.b,{to:"/quotes",className:"Quotes"===t?"side-nav-list-item side-nav-selected":"side-nav-list-item",onClick:function(){return a("Quotes")}},i.a.createElement(l.a,{icon:m.e,className:"side-nav-icon"}),i.a.createElement("li",null,"Quotes"))))}a(52);function v(){return i.a.createElement("div",{className:"home-card-container"},i.a.createElement("div",{className:"quotes-list-title"},i.a.createElement(l.a,{icon:m.g,id:"quotes-main-icon"}),i.a.createElement("div",{className:"quotes-list-title-title"},"Quick Quote")),i.a.createElement("div",{className:"quick-quote-body"},i.a.createElement("div",{className:"quick-quote-body-text"},i.a.createElement(l.a,{icon:m.f,id:"quotes-in-development-icon"}),"In development")))}function E(){return i.a.createElement("div",{className:"home-main-container"},i.a.createElement("div",{className:"extended-card-container"},i.a.createElement("div",{className:"main-card-left"},i.a.createElement("div",{className:"main-card-left-title"},"Welcome to your dashboard"),i.a.createElement("div",{className:"main-card-left-text"},"What's the status on the deliverables for eow? we need a paradigm shift. Ping me meeting assassin run it up the flagpole, ping the boss and circle back. Programmatically message the initiative let's not solutionize this right now parking lot it. Where the metal hits the meat shotgun approach we need to harvest synergy effects. We need to crystallize a plan to be inspired is to become creative, innovative and energized we want this philosophy to trickle down to all our stakeholders nor UI, yet get six alpha pups in here for a focus group, but driving the initiative forward.")),i.a.createElement("div",{className:"main-card-right"})),i.a.createElement(v,null))}var N=a(3),p=a(18),q=a.n(p);a(35);function f(e){return(e/100).toLocaleString("en-US",{style:"currency",currency:"USD"})}function b(e){var t=new Date(e).toString().split(" ");return"".concat(t[1]," ").concat(t[2],", ").concat(t[3])}var h=a(69);function D(e){var t=e.id,a=e.name,n=e.destination,c=e.price,r=e.departureDate,s=e.selected,o=e.setSelectedQuote,l=h("quotes-list-item",{"quotes-list-selected":s}),m=f(c),u=b(r);return i.a.createElement("div",{className:l,onClick:function(){return o(t)}},i.a.createElement("div",{className:"quotes-list-item-name"},a),i.a.createElement("div",{className:"quotes-list-item-destination"},n),i.a.createElement("div",{className:"quotes-list-item-price"},m),i.a.createElement("div",{className:"quotes-list-item-departure-date"},u))}function w(e){var t=e.quotesData,a=e.sortByPrice,n=e.sortByTime,c=e.setSelectedQuote,r=e.currentQuoteID,s=e.deleting,o=t.map((function(e,t){return i.a.createElement(D,{key:t,id:e.quotes_id,name:e.name,destination:e.destination_location,price:e.price_cents,departureDate:e.departure_date,selected:e.quotes_id===r,setSelectedQuote:c})}));return i.a.createElement("div",{className:"quotes-list-container card-container"},i.a.createElement("div",{className:"quotes-list-title"},i.a.createElement(l.a,{icon:m.d,id:"quotes-main-icon"}),i.a.createElement("div",{className:"quotes-list-title-title"},"Current Quotes")),i.a.createElement("div",{className:"quotes-list-sort"},i.a.createElement("div",{className:"quotes-sort-title"},"Sort By:"),i.a.createElement("div",{className:"quotes-sort-price"},i.a.createElement("div",{className:"quotes-sort-price-title"},"Price"),i.a.createElement("div",{className:"sort-price-btn-low sort-btn",onClick:function(){return a(!0)}},"Low"),i.a.createElement("div",{className:"sort-price-btn-high sort-btn",onClick:function(){return a(!1)}},"High")),i.a.createElement("div",{className:"quotes-sort-date"},i.a.createElement("div",{className:"quotes-sort-date-title"},"Date"),i.a.createElement("div",{className:"sort-date-btn-low sort-btn",onClick:function(){return n(!0)}},"Soon"),i.a.createElement("div",{className:"sort-date-btn-high sort-btn",onClick:function(){return n(!1)}},"Far"))),!s&&i.a.createElement("div",{className:"quotes-list-body"},i.a.createElement("div",{className:"quotes-list-body-titles"},i.a.createElement("div",{className:"quotes-list-name"},"NAME"),i.a.createElement("div",{className:"quotes-list-destination"},"DESTINATION"),i.a.createElement("div",{className:"quotes-list-price"},"PRICE"),i.a.createElement("div",{className:"quotes-list-departure-date"},"DEPARTURE DATE")),i.a.createElement("div",{className:"quotes-list-body-items"},o)),s&&i.a.createElement("div",{className:"quotes-deleting-container"},i.a.createElement("div",{className:"quotes-deleting-text"},"Deleting..."),i.a.createElement("div",{className:"loader"})))}var g=a(15);function O(e){var t=e.quotesData,a=e.transportationData,c=e.currentQuoteID,r=e.confirmDeleteQuote,o=Object(n.useState)({departureLocation:"",distinationLocation:"",departureDate:"",returnDate:"",travellersNumber:"",transportation:[],name:"",priceCents:0,phoneNumber:"",email:"",confirmDelete:!1,showError:!1}),u=Object(s.a)(o,2),d=u[0],v=u[1];return Object(n.useEffect)((function(){var e,n=Object(g.a)(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;c===i.quotes_id&&v({departureLocation:i.departure_location,distinationLocation:i.destination_location,departureDate:i.departure_date,returnDate:i.return_date,travellersNumber:i.number_of_travellers,transportation:a[c],name:i.name,priceCents:i.price_cents,phoneNumber:i.phone_number,email:i.email})}}catch(r){n.e(r)}finally{n.f()}}),[c,t,a]),i.a.createElement("div",{className:"card-container"},i.a.createElement("div",{className:"quotes-list-title"},i.a.createElement(l.a,{icon:m.g,id:"quotes-view-icon"}),i.a.createElement("div",{className:"quotes-list-title-title"},"Quote Details"),d.showError&&i.a.createElement("div",{className:"quote-error-msg"},"Please select quote to delete!")),!d.confirmDelete&&i.a.createElement("div",{className:"quotes-view-body"},i.a.createElement("div",{className:"quotes-view-item"},i.a.createElement("div",{className:"quotes-view-item-title"},"FROM"),i.a.createElement("div",{className:"quotes-view-item-content"},d.departureLocation)),i.a.createElement("div",{className:"quotes-view-item"},i.a.createElement("div",{className:"quotes-view-item-title"},"DESTINATION"),i.a.createElement("div",{className:"quotes-view-item-content"},d.distinationLocation)),i.a.createElement("div",{className:"quotes-view-item"},i.a.createElement("div",{className:"quotes-view-item-title"},"DEPARTURE DATE"),i.a.createElement("div",{className:"quotes-view-item-content"},d.departureDate?b(d.departureDate):"")),i.a.createElement("div",{className:"quotes-view-item"},i.a.createElement("div",{className:"quotes-view-item-title"},"RETURN DATE"),i.a.createElement("div",{className:"quotes-view-item-content"},d.departureDate?b(d.returnDate):"")),i.a.createElement("div",{className:"quotes-view-item"},i.a.createElement("div",{className:"quotes-view-item-title"},"TRAVELLERS NUMBER"),i.a.createElement("div",{className:"quotes-view-item-content"},d.travellersNumber)),i.a.createElement("div",{className:"quotes-view-item"},i.a.createElement("div",{className:"quotes-view-item-title"},"TRANSPORTATION"),i.a.createElement("div",{className:"quotes-view-item-content"},function(e){var t,a="",n=Object(g.a)(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;a+="".concat(i,", ")}}catch(c){n.e(c)}finally{n.f()}return a.slice(0,-2)}(d.transportation))),i.a.createElement("div",{className:"quotes-view-item"},i.a.createElement("div",{className:"quotes-view-item-title"},"NAME"),i.a.createElement("div",{className:"quotes-view-item-content"},d.name)),i.a.createElement("div",{className:"quotes-view-item"},i.a.createElement("div",{className:"quotes-view-item-title"},"PRICE"),i.a.createElement("div",{className:"quotes-view-item-content"},d.priceCents?f(d.priceCents):"")),i.a.createElement("div",{className:"quotes-view-item"},i.a.createElement("div",{className:"quotes-view-item-title"},"CONTACT INFO"),i.a.createElement("div",{className:"quotes-view-item-content"},d.email?d.email+" / "+d.phoneNumber:"")),i.a.createElement("div",{className:"quotes-view-item",id:"quotes-view-btns"},i.a.createElement("div",{className:"quotes-delete-btn quotes-btn",onClick:function(){d.departureLocation?v(Object(N.a)(Object(N.a)({},d),{},{confirmDelete:!0})):(v(Object(N.a)(Object(N.a)({},d),{},{showError:!0})),setTimeout((function(){v(Object(N.a)(Object(N.a)({},d),{},{showError:!1}))}),2500))}},"DELETE"))),d.confirmDelete&&i.a.createElement("div",{className:"confirm-delete-container"},i.a.createElement("div",{className:"confirm-delete-title"},"Are you sure you want to delete?"),i.a.createElement("div",{className:"confirm-delete-btns-container"},i.a.createElement("div",{className:"confirm-cancel-btn",onClick:function(){return v(Object(N.a)(Object(N.a)({},d),{},{confirmDelete:!1}))}},"Cancel"),i.a.createElement("div",{className:"confirm-confirm-btn",onClick:function(){return v({departureLocation:"",distinationLocation:"",departureDate:"",returnDate:"",travellersNumber:"",transportation:[],name:"",priceCents:0,phoneNumber:"",email:"",confirmDelete:!1}),void r(c)}},"Confirm"))))}function y(){var e=Object(n.useState)({quotesData:[],transportationData:{},currentQuoteID:0,deleting:!1,triggerCount:0}),t=Object(s.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){var e=q.a.get("/api/quotes/all"),t=q.a.get("/api/quotes/transportation");Promise.all([e,t]).then((function(e){var t=Object(s.a)(e,2),a=t[0],n=t[1];a=a.data;var i=function(e){var t,a={},n=Object(g.a)(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;a[i.quote_id]?a[i.quote_id].push(i.name):a[i.quote_id]=[i.name]}}catch(c){n.e(c)}finally{n.f()}return a}(n=n.data);c({quotesData:a,transportationData:i})})).catch((function(e){console.log("quotes err",e)}))}),[a.triggerCount]),i.a.createElement("div",{className:"main-quotes-container"},i.a.createElement(w,{quotesData:a.quotesData,sortByPrice:function(e){var t=a.quotesData;e?t.sort((function(e,t){return e.price_cents-t.price_cents})):t.sort((function(e,t){return t.price_cents-e.price_cents})),c(Object(N.a)(Object(N.a)({},a),{},{quotesData:t}))},sortByTime:function(e){var t=a.quotesData;e?t.sort((function(e,t){return new Date(e.departure_date)-new Date(t.departure_date)})):t.sort((function(e,t){return new Date(t.departure_date)-new Date(e.departure_date)})),c(Object(N.a)(Object(N.a)({},a),{},{quotesData:t}))},setSelectedQuote:function(e){c(Object(N.a)(Object(N.a)({},a),{},{currentQuoteID:e}))},currentQuoteID:a.currentQuoteID,deleting:a.deleting}),i.a.createElement(O,{quotesData:a.quotesData,transportationData:a.transportationData,currentQuoteID:a.currentQuoteID,confirmDeleteQuote:function(e){c(Object(N.a)(Object(N.a)({},a),{},{deleting:!0})),setTimeout((function(){q.a.put("/api/quotes/delete",{quoteID:e}).then((function(){c(Object(N.a)(Object(N.a)({},a),{},{triggerCount:a.triggerCount+1,deleting:!1}))}))}),1500)}}))}var j=a(2);var _=function(){var e=Object(n.useState)({currentPage:"Home"}),t=Object(s.a)(e,2),a=t[0],c=t[1];return i.a.createElement(o.a,null,i.a.createElement("div",{className:"app-container"},i.a.createElement(u,null),i.a.createElement("div",{className:"main-content-container"},i.a.createElement(d,{setSelected:function(e){c({currentPage:e})},selected:a.currentPage}),i.a.createElement(j.c,null,i.a.createElement(j.a,{path:"/",exact:!0,render:function(e){return i.a.createElement(E,e)}}),i.a.createElement(j.a,{path:"/quotes",exact:!0,render:function(e){return i.a.createElement(y,e)}})))))};r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(_,null)),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.6c5dd150.chunk.js.map